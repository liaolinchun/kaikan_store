(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/good/goods"],{"0bde":function(t,o,e){"use strict";(function(t){e("1eb0"),e("921b");n(e("66fd"));var o=n(e("cf62"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},1204:function(t,o,e){"use strict";e.r(o);var n=e("2700"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(o,t,function(){return n[t]})}(s);o["default"]=i.a},2700:function(t,o,e){"use strict";(function(t,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=r(e("a34a")),s=r(e("6467")),a=e("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function u(t,o,e,n,i,s,a){try{var r=t[s](a),u=r.value}catch(c){return void e(c)}r.done?o(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var o=this,e=arguments;return new Promise(function(n,i){var s=t.apply(o,e);function a(t){u(s,n,i,a,r,"next",t)}function r(t){u(s,n,i,a,r,"throw",t)}a(void 0)})}}function d(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(o){f(t,o,e[o])})}return t}function f(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var l=function(){return e.e("pages/good/goodsHeader").then(e.bind(null,"cf08"))},g=function(){return e.e("pages/good/base/popupSpec").then(e.bind(null,"e0d1"))},h=function(){return e.e("pages/good/goodsEval").then(e.bind(null,"cb44"))},p={data:function(){return{title_price:"",goodsInit:{},swiperList:[],goodsSpec:[],goodsInfo:{num:1,type:"",price:"",selectdata:"请选择 颜色 规格"},data:[],goodsData:[],currentSwiper:0,spaceInfo:{showSpace:!1},entTime:"",ids:[],key:""}},components:{goodsHeader:l,popupSpec:g,goodsEval:h},computed:d({},(0,a.mapState)(["hasLogin"])),methods:{initData:function(){var o=c(i.default.mark(function o(e){var n=this;return i.default.wrap(function(o){while(1)switch(o.prev=o.next){case 0:this.request({url:s.default.get_goods_detail,method:"POST",data:{goods_id:e},success:function(o){n.title_price=o.goods[0].price,n.goodsInit=o.goods[0],t("log",n.goodsInit," at pages\\good\\goods.vue:123"),o.data.forEach(function(t){n.swiperList.push(t.thumbimg)}),n.goodsSpec=o.data}}),this.request({url:s.default.get_goods_assess,method:"POST",data:{goods_id:e},success:function(t){0==t.error_code&&(n.goodsData=t.data)}});case 2:case"end":return o.stop()}},o,this)}));function e(t){return o.apply(this,arguments)}return e}(),swiperChange:function(t){this.currentSwiper=t.detail.current},setSelect:function(t,o){this.data=t,this.goodsInfo.type=t.color_name,this.goodsInit.price=t.price_one*this.goodsInfo.num,this.goodsInit.market_price=this.goodsInit.market_price*this.goodsInfo.num,this.spaceInfo.showSpace=o,this.goodsInfo.selectdata="已选择 : ".concat(t.color_name," ，数量 : ").concat(this.goodsInfo.num)},add:function(){this.goodsInfo.num++},minus:function(){this.goodsInfo.num<=1||this.goodsInfo.num--},showSpec:function(){this.spaceInfo.showSpace="ture",this.$refs.Series.bridge()},toGame:function(t){n.showToast({icon:"none",title:"维护中..."},2e3)},joinCart:function(){if(!this.hasLogin)return n.showToast({icon:"none",title:"请先去登录"}),void setTimeout(function(){n.navigateTo({url:"../public/login"})},1e3);this.goodsInfo.type?this.request({url:s.default.add_car,method:"POST",data:{goods_id:this.data.goods_id,child_id:this.data.id,num:this.goodsInfo.num},success:function(t){0==t.error_code?n.showToast({icon:"none",title:"成功加入购物车"}):n.showToast({icon:"none",title:"请先去登录"})}}):n.showToast({icon:"none",title:"请选择规格"})},toBuy:function(){if(!this.hasLogin)return n.showToast({icon:"none",title:"请先去登录"}),void setTimeout(function(){n.navigateTo({url:"../public/login"})},1e3);this.goodsInfo.type?(this.data.num=this.goodsInfo.num,this.data.old_money=this.goodsInit.market_price,this.data.game="商城",n.navigateTo({url:"../order/base/createOrder?goodsInfo="+JSON.stringify(this.data)})):n.showToast({icon:"none",title:"请选择规格"})}},onLoad:function(t){var o=t.goods_id;this.initData(o)}};o.default=p}).call(this,e("0de9")["default"],e("6e42")["default"])},"528a":function(t,o,e){},c9c2:function(t,o,e){"use strict";var n=e("528a"),i=e.n(n);i.a},cf62:function(t,o,e){"use strict";e.r(o);var n=e("e4ff"),i=e("1204");for(var s in i)"default"!==s&&function(t){e.d(o,t,function(){return i[t]})}(s);e("c9c2");var a,r=e("f0c5"),u=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);o["default"]=u.exports},e4ff:function(t,o,e){"use strict";var n,i=function(){var t=this,o=t.$createElement;t._self._c},s=[];e.d(o,"b",function(){return i}),e.d(o,"c",function(){return s}),e.d(o,"a",function(){return n})}},[["0bde","common/runtime","common/vendor"]]]);